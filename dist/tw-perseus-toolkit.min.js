(function(a){const b=document.createElement("script");b.setAttribute("type","application/javascript"),b.textContent=`(${a})();`,document.body.appendChild(b),document.body.removeChild(b)})(()=>{$(document).ready(()=>{const a={version:"0.1.0"};a.Updater={init(){setTimeout(a.Updater.load,5e3)},load(){$.getScript("https://rawcdn.githack.com/mr-perseus/tw-js-library/master/script-updater.js",()=>{if(scriptUpdater.TWPT>a.version){const a=new west.gui.Dialog("Update: The West Duel Warner",`<span>Update Available<br><br><b>v${scriptUpdater.TWPT}:</b><br>${scriptUpdater.TWPTNew}</span>`,west.gui.Dialog.SYS_WARNING).addButton("Update",()=>{a.hide(),location.href="https://greasyfork.org/scripts/40902-the-west-duel-warner/code/The%20West%20Duel%20Warner.user.js"}).addButton("cancel").show()}})}},a.JobHighlighter={init(){$("head").append("<style type=\"text/css\">.jobgroup.silver {background-color: rgba(192, 192, 192, .7); border-radius: 10%; } .jobgroup.gold {background-color: rgba(255, 215, 0, .7); border-radius: 10%; }</style>"),Map.Component.JobGroup.prototype.backup_getAdditionalClasses=Map.Component.JobGroup.prototype.getAdditionalClasses,Map.Component.JobGroup.prototype.getAdditionalClasses=function(a,b){const c=Map.Component.JobGroup.prototype.backup_getAdditionalClasses.apply(this,arguments),d=Map.JobHandler.Featured[`${this.getLeft(a)}-${this.getTop(b)}`]||{};for(const e in d)if(d.hasOwnProperty(e)){if(d[e].gold)return`${c} gold`;if(d[e].silver)return`${c} silver`}return c}}},a.CinemaSkipButton={init(){const a=new west.gui.Button("Skip ad",()=>{CinemaWindow.controller("rewards")});CinemaWindow.backup_cotroller=CinemaWindow.controller,CinemaWindow.controller=function(b){if(console.log("CONTROLLER",b),a.setVisible(!1),a.disable(),"video"===b){let b=5;const c=()=>{0<b?(a.setCaption(`Skip ad (${b})`),setTimeout(c,1e3),b--):(a.setCaption("Skip ad"),a.enable())};a.setVisible(!0),c()}return"noVideo"===b?CinemaWindow.backup_cotroller("rewards"):CinemaWindow.backup_cotroller(b)},CinemaWindow.backup_open=CinemaWindow.open,CinemaWindow.open=function(b){CinemaWindow.backup_open(b);const c=$(this.window.divMain).find(".tw2gui_inner_window_title");a.divMain.setAttribute("style","margin-left: 20px; margin-top: -20px"),a.setVisible(!1),c.append(a.getMainDiv())}}};try{a.Updater.init(),a.JobHighlighter.init(),a.CinemaSkipButton.init()}catch(a){console.log(a.stack)}})});